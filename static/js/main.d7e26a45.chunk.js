(this.webpackJsonpmeeqvse=this.webpackJsonpmeeqvse||[]).push([[0],{109:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),r=c.n(a),s=c(10),i=c.n(s),o=(c(85),c(12)),j=c(18),l=c.n(j),d=r.a.createContext();function b(){var e=Object(a.useContext)(d),t=e.currentUser,c=e.setCurrentUser;return{isLoggedIn:!!t.token,token:t.token,saveToken:function(e){localStorage.setItem("token",e),c({token:e})}}}c(67);var u=c(11),h=c(16),O=c(144),p=c(146),x=c(148),m=c(151),f=c(150),g=c(149),v=c(152),C=c(69),S=Object(O.a)({root:{maxWidth:345},media:{height:400}}),y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],s=S(),i=Object(u.g)().page||1,j=Object(u.f)();i=parseInt(i);var d=Object(a.useState)(),b=Object(o.a)(d,2),O=b[0],y=b[1],k=Math.ceil(O/8);Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/products",{params:{_page:i,_limit:8}}).then((function(e){y(e.headers["x-total-count"]),r(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[i]);var w=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){return j.push("/AllProducts/"+(i-1))},disabled:i<=1,children:"previess page"}),Object(n.jsx)("button",{onClick:function(){return j.push("/AllProducts/"+(i+1))},disabled:i>=k,children:"next page"})]})};return Object(n.jsxs)("div",{children:[c.map((function(e){return Object(n.jsx)("div",{className:"sacdeli",children:Object(n.jsxs)(p.a,{className:s.root,children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)(g.a,{className:s.media,image:e.image,title:"Contemplative Reptile"}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(n.jsx)("h4",{children:e.description.split(" ").splice(0,30).join(" ")+"..."}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:["Price:",e.price,"$"]})]})]})]}),Object(n.jsx)(m.a,{children:Object(n.jsx)(v.a,{component:h.b,to:"/products/show/"+e.id,variant:"contained",color:"primary",children:"Learn More"})})]})},e.id)})),Object(n.jsx)(w,{})]})},k=function(){var e=b(),t=e.isLoggedIn,c=(e.saveToken,Object(a.useContext)(d).currentUser,Object(a.useState)("")),r=Object(o.a)(c,2),s=r[0],i=r[1],j=Object(a.useState)([]),l=Object(o.a)(j,2),O=(l[0],l[1],Object(u.f)()),p=function(){return t?Object(n.jsx)("button",{onClick:function(){return O.push("/profile")},children:"MY PROFILE"}):Object(n.jsx)("button",{onClick:function(){return O.push("/signIn")},children:"SIGHN IN"})};return Object(n.jsx)("div",{children:Object(n.jsx)("nav",{className:"nav",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/AllProducts",children:"All Prodcuts"})}),Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/users",children:"Users"})}),Object(n.jsx)("li",{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.toLowerCase().split(" ").join("+");e.preventDefault(),O.push("/search/".concat(t)),i("")},children:[Object(n.jsx)("input",{type:"text",value:s,onChange:function(e){i(e.target.value),console.log(s+" search")},required:!0}),Object(n.jsx)("button",{type:"submit",children:"SEARCH"})]})}),Object(n.jsx)("li",{children:Object(n.jsx)(p,{})})]})})})},w=Object(O.a)({root:{maxWidth:345},media:{height:400}}),N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],s=w();Object(u.g)();return Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/products",{params:{_page:1,_limit:10}}).then((function(e){r(e.data),console.log(c)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)("div",{children:c.map((function(e){return Object(n.jsxs)("div",{className:"sacdeli",children:[Object(n.jsxs)(p.a,{className:s.root,children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)(g.a,{className:s.media,image:e.image,title:"Contemplative Reptile"}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(n.jsx)("h4",{children:e.description.split(" ").splice(0,30).join(" ")+"..."}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:["Price:",e.price,"$"]})]})]})]}),Object(n.jsx)(m.a,{children:Object(n.jsx)(v.a,{component:h.b,to:"/products/show/"+e.id,variant:"contained",color:"primary",children:"Learn More"})})]})," "]},e.id)}))})},I=Object(O.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),P=function(){var e=I(),t=(e.bullet,Object(u.g)()),c=Object(a.useState)([]),r=Object(o.a)(c,2),s=r[0],i=r[1],j=Object(a.useState)([]),d=Object(o.a)(j,2),b=d[0],h=d[1];return Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/products/"+t.id).then((function(e){return i(e.data)}))}),[]),Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/products/".concat(t.id,"/reviews")).then((function(e){return h(e.data)}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:s.image}),Object(n.jsx)("div",{children:s.description}),Object(n.jsx)("br",{}),b.map((function(t){return Object(n.jsx)(p.a,{className:e.root,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{variant:"h5",component:"h2",children:"Reviews"}),Object(n.jsx)(C.a,{variant:"body2",component:"p",children:t.body})]})})}))]})},U=Object(O.a)({root:{maxWidth:345},media:{height:140}}),L=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(u.g)().param,i=U();return Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/products?q=".concat(s)).then((function(e){r(e.data),console.log(e.data)}))}),[c]),console.log(s),Object(n.jsx)("div",{children:c.map((function(e){return Object(n.jsxs)("div",{className:"sacdeli",children:[Object(n.jsxs)(p.a,{className:i.root,children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)(g.a,{className:i.media,image:e.image,title:"Contemplative Reptile"}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(n.jsx)("h4",{children:e.description.split(" ").splice(0,30).join(" ")+"..."}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:["Price:",e.price,"$"]})]})]})]}),Object(n.jsx)(m.a,{children:Object(n.jsx)(v.a,{component:h.b,to:"/products/show/"+e.id,variant:"contained",color:"primary",children:"Learn More"})})]})," "]},e.id)}))})},E=c(161),W=c(155),F=c(158),T=c(156),_=c(160),A=c(153),B=c(157),D=c(159),R=c(154);function q(){return Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var M=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),H=function(){var e=Object(u.f)(),t=Object(a.useState)(),c=Object(o.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(),j=Object(o.a)(i,2),h=j[0],O=j[1],p=Object(a.useContext)(d),x=(p.setCurrentUser,p.currentUser,M()),m=b().saveToken;return Object(n.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(W.a,{}),Object(n.jsxs)("div",{className:x.paper,children:[Object(n.jsx)(E.a,{className:x.avatar}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:x.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),l.a.post("https://us-central1-js04-b4877.cloudfunctions.net/api/login",{username:r,password:h}).then((function(t){var c=t.data.access_token;m(c),e.push("/")})).then((function(){})).catch((function(){alert("wrong username or password")}))},children:[Object(n.jsx)(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return O(e.target.value)}}),Object(n.jsx)(T.a,{control:Object(n.jsx)(_.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,children:"Sign In"}),Object(n.jsxs)(B.a,{container:!0,children:[Object(n.jsx)(B.a,{item:!0,xs:!0,children:Object(n.jsx)(A.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(B.a,{item:!0,children:Object(n.jsx)(A.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(n.jsx)(D.a,{mt:8,children:Object(n.jsx)(q,{})})]})},Y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],s=b(),i=(Object(u.g)(),Object(u.f)()),j=Object(a.useContext)(d).setCurrentUser;Object(a.useEffect)((function(){l.a.get("https://us-central1-js04-b4877.cloudfunctions.net/api/profile",{headers:{Authorization:"Bearer ".concat(s.token)}}).then((function(e){r(e.data.data),console.log(c)})).catch((function(e){return console.log(e)}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:c.profile_picture}),Object(n.jsxs)("div",{children:["user name: ",c.username]}),Object(n.jsxs)("div",{children:["first namte: ",c.first_name]}),Object(n.jsxs)("div",{children:["last namte: ",c.last_name]}),Object(n.jsxs)("div",{children:["age: ",c.age]}),Object(n.jsx)("button",{onClick:function(){j(""),localStorage.removeItem("token"),i.push("/")},children:"LOG OUT"})]})},$=localStorage.getItem("token");var z=function(){var e=Object(a.useState)({token:$}),t=Object(o.a)(e,2),c=t[0],r=t[1];return console.log("token "+$),Object(n.jsx)(h.a,{children:Object(n.jsx)(d.Provider,{value:{currentUser:c,setCurrentUser:r},children:Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/products/show/:id",children:Object(n.jsx)(P,{})}),Object(n.jsx)(u.a,{path:"/AllProducts/:page?",children:Object(n.jsx)(y,{})}),Object(n.jsx)(u.a,{path:"/search/:param",children:Object(n.jsx)(L,{})}),Object(n.jsx)(u.a,{path:"/signIn",children:Object(n.jsx)(H,{})}),Object(n.jsx)(u.a,{path:"/profile",children:Object(n.jsx)(Y,{})}),Object(n.jsx)(u.a,{path:"/:page?",children:Object(n.jsx)(N,{})})]})]})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,164)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(z,{})}),document.getElementById("root")),G()},67:function(e,t,c){},85:function(e,t,c){}},[[109,1,2]]]);
//# sourceMappingURL=main.d7e26a45.chunk.js.map